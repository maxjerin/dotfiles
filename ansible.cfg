[defaults]
# Path to roles
roles_path = ./dependencies

# Inventory file
inventory = hosts

# Ask for privilege escalation password
become_ask_pass = true

# Output callback plugin
# Use default callback with YAML format (replaces deprecated community.general.yaml)
stdout_callback = default
result_format = yaml

# Python interpreter discovery
# auto_legacy is deprecated, using auto_silent for modern Python 3 support
# https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html
interpreter_python = auto_silent

# Fact gathering optimization
# Use smart fact gathering (only gather when needed)
gathering = smart
# Cache facts to improve performance
fact_caching = jsonfile
fact_caching_connection = /tmp/ansible_facts_cache
fact_caching_timeout = 86400

# Parallel execution
forks = 10

# Security settings
host_key_checking = True
# Prevent accidental execution of untrusted code
command_warnings = True

# Performance optimizations
# Enable pipelining to reduce SSH operations
[ssh_connection]
pipelining = True
# Use ControlMaster for faster SSH connections
control_path = /tmp/ansible-ssh-%%h-%%p-%%r
